<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>jQeury QQ表情 插件</title>
<meta name="description" content="">
<meta name="keywords" content="">
<style type="text/css">

#liveChatContent{
    width: 400px;
    height: 100px;
    outline: none;
}
.jquery-face-wrap{
    padding: 50px;
}

</style>
</head>
<body>
<div id="res">
    
</div>

<div id="box" class="a1">
    <div class="jquery-face-wrap">
        <div>
            <textarea id="liveChatContent" spellcheck="false" class="jquery-face-input"></textarea>
        </div>
        <input class="jquery-face-handle" type="button" value="表情">
        <input class="parse" type="button" value="解析">
    </div>
</div>

<script type="text/html" id="tpl">
<div class="jquery-face-wrap">
    <input  class="jquery-face-input" style="width: 500px;" />
    <input class="jquery-face-handle" type="button" value="表情">
    <input class="parse" type="button" value="解析">
</div>
</script>

<script type="text/javascript" src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript" src="./jquery.sinaface.min.js"></script>
<script type="text/javascript">

    var parseBox = $('#res');

    var face = $.face({
        path : 'face/',
        // wrap: '.jquery-face-wrap',
        // input: '.jquery-face-input',
        // handle: '.jquery-face-handle',
        autoParse : false,
        autoClose: false,
        before:function(input, btn){

        },
        after:function(input, btn, code, parseHtml){

        }
    });

    for (var i = 20; i >= 0; i--) {
        $('#box').append($('#tpl').html());
    };

    $(document).on('click', '.parse', function(){
        var textarea = $(this).parents('.jquery-face-wrap').find('.jquery-face-input').val();

        var html = face.getParseHtml(textarea);

        parseBox.html(html);
    });
</script>
</body>
</html>